!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("srs",[],n):"object"==typeof exports?exports.srs=n():(e.millan=e.millan||{},e.millan.srs=n())}("undefined"!=typeof self?self:this,function(){return function(e){function n(n){for(var r,i,c=n[0],u=n[1],s=n[2],p=0,f=[];p<c.length;p++)i=c[p],o[i]&&f.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(n);f.length;)f.shift()();return a.push.apply(a,s||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,c=1;c<t.length;c++){var u=t[c];0!==o[u]&&(r=!1)}r&&(a.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},o={6:0,5:0},a=[];function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="";var c=("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var s=0;s<c.length;s++)n(c[s]);var l=u;return a.push([65,0,1]),t()}({13:function(e,n,t){"use strict";t.d(n,"a",function(){return TurtleParser});var r,o=t(1),a=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=function(){return(i=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},c=t(8),u=c.turtleTokenTypes,s=c.turtleTokenMap,TurtleParser=function(e){function TurtleParser(n,t,r,a){void 0===n&&(n={}),void 0===t&&(t=u),void 0===r&&(r=t),void 0===a&&(a=!0);var c=e.call(this,t,i({outputCst:!0,recoveryEnabled:!0},n))||this;return c.namespacesMap={},c.semanticErrors=[],c.resetManagedState=function(){c.namespacesMap={},c.semanticErrors=[]},c.tokenize=function(e){return c.lexer.tokenize(e).tokens},c.parse=function(e,n){void 0===n&&(n="standard"),c.input=c.lexer.tokenize(e).tokens;var t=c.turtleDoc(0,[n]),r=c.errors.slice(),o=c.semanticErrors.slice();return c.resetManagedState(),{errors:r,semanticErrors:o,cst:t}},c.turtleDoc=c.RULE("turtleDoc",function(e){var n="stardog"===e;c.MANY(function(){return c.SUBRULE(c.statement,{ARGS:[n]})})}),c.statement=c.RULE("statement",function(e){c.OR([{ALT:function(){return c.SUBRULE(c.directive)}},{ALT:function(){c.SUBRULE(c.triples,{ARGS:[e]}),c.CONSUME(s.Period)}}])}),c.directive=c.RULE("directive",function(){c.OR([{ALT:function(){return c.SUBRULE(c.prefixID)}},{ALT:function(){return c.SUBRULE(c.base)}},{ALT:function(){return c.SUBRULE(c.sparqlPrefix)}},{ALT:function(){return c.SUBRULE(c.sparqlBase)}}])}),c.prefixID=c.RULE("prefixID",function(){c.CONSUME(s.TTL_PREFIX);var e=c.CONSUME(s.PNAME_NS),n=c.CONSUME(s.IRIREF),t=e.image.slice(0,-1),r=n.image;c.namespacesMap[t]=r,c.CONSUME(s.Period)}),c.base=c.RULE("base",function(){c.CONSUME(s.TTL_BASE),c.CONSUME(s.IRIREF),c.CONSUME(s.Period)}),c.sparqlBase=c.RULE("sparqlBase",function(){c.CONSUME(s.BASE),c.CONSUME(s.IRIREF)}),c.sparqlPrefix=c.RULE("sparqlPrefix",function(){c.CONSUME(s.PREFIX);var e=c.CONSUME(s.PNAME_NS),n=c.CONSUME(s.IRIREF),t=e.image.slice(0,-1),r=n.image;c.namespacesMap[t]=r}),c.triples=c.RULE("triples",function(e){c.OR([{ALT:function(){c.SUBRULE(c.subject),c.SUBRULE1(c.predicateObjectList,{ARGS:[e]})}},{GATE:function(){return Boolean(e)},ALT:function(){c.SUBRULE(c.EmbeddedTriplePattern),c.SUBRULE(c.predicateObjectList)}},{ALT:function(){c.SUBRULE(c.blankNodePropertyList,{ARGS:[e]}),c.OPTION(function(){return c.SUBRULE2(c.predicateObjectList,{ARGS:[e]})})}}])}),c.EmbeddedTriplePattern=c.RULE("EmbeddedTriplePattern",function(){c.CONSUME(s.LEmbed),c.SUBRULE(c.triples),c.CONSUME(s.REmbed)}),c.predicateObjectList=c.RULE("predicateObjectList",function(e){c.SUBRULE(c.verb),c.OR([{ALT:function(){return c.SUBRULE(c.objectList,{ARGS:[e]})}},{GATE:function(){return Boolean(e)},ALT:function(){c.SUBRULE(c.EmbeddedPredicateObjectList),c.SUBRULE(c.object,{ARGS:[e]})}}]),c.MANY(function(){c.CONSUME(s.Semicolon),c.OPTION(function(){c.SUBRULE1(c.verb),c.OR1([{ALT:function(){return c.SUBRULE1(c.objectList,{ARGS:[e]})}},{GATE:function(){return Boolean(e)},ALT:function(){c.SUBRULE1(c.EmbeddedPredicateObjectList),c.SUBRULE1(c.object,{ARGS:[e]})}}])})})}),c.EmbeddedPredicateObjectList=c.RULE("EmbeddedPredicateObjectList",function(){c.CONSUME(s.LCurly),c.SUBRULE(c.predicateObjectList),c.CONSUME(s.RCurly)}),c.subject=c.RULE("subject",function(){c.OR([{ALT:function(){return c.SUBRULE(c.iri)}},{ALT:function(){return c.SUBRULE(c.BlankNode)}},{ALT:function(){return c.SUBRULE(c.collection)}}])}),c.predicate=c.RULE("predicate",function(){c.SUBRULE(c.iri)}),c.objectList=c.RULE("objectList",function(e){c.SUBRULE(c.object,{ARGS:[e]}),c.MANY(function(){c.CONSUME(s.Comma),c.SUBRULE1(c.object,{ARGS:[e]})})}),c.verb=c.RULE("verb",function(){c.OR([{ALT:function(){return c.SUBRULE(c.predicate)}},{ALT:function(){return c.CONSUME(s.A)}}])}),c.literal=c.RULE("literal",function(){c.OR([{ALT:function(){return c.SUBRULE(c.RDFLiteral)}},{ALT:function(){return c.SUBRULE(c.NumericLiteral)}},{ALT:function(){return c.SUBRULE(c.BooleanLiteral)}}])}),c.blankNodePropertyList=c.RULE("blankNodePropertyList",function(e){c.CONSUME(s.LBracket),c.SUBRULE(c.predicateObjectList,{ARGS:[e]}),c.CONSUME(s.RBracket)}),c.object=c.RULE("object",function(e){c.OR([{ALT:function(){return c.SUBRULE(c.iri)}},{ALT:function(){return c.SUBRULE(c.BlankNode)}},{ALT:function(){return c.SUBRULE(c.collection)}},{ALT:function(){return c.SUBRULE(c.blankNodePropertyList,{ARGS:[e]})}},{ALT:function(){return c.SUBRULE(c.literal)}}])}),c.collection=c.RULE("collection",function(){c.CONSUME(s.LParen),c.MANY(function(){return c.SUBRULE(c.object)}),c.CONSUME(s.RParen)}),c.NumericLiteral=c.RULE("NumericLiteral",function(){c.OR([{ALT:function(){return c.CONSUME(s.INTEGER)}},{ALT:function(){return c.CONSUME(s.DECIMAL)}},{ALT:function(){return c.CONSUME(s.DOUBLE)}}])}),c.RDFLiteral=c.RULE("RDFLiteral",function(){c.SUBRULE(c.String),c.OPTION(function(){c.OR([{ALT:function(){return c.CONSUME(s.LANGTAG)}},{ALT:function(){c.CONSUME(s.DoubleCaret),c.SUBRULE(c.iri)}}])})}),c.BooleanLiteral=c.RULE("BooleanLiteral",function(){c.OR([{ALT:function(){return c.CONSUME(s.TRUE)}},{ALT:function(){return c.CONSUME(s.FALSE)}}])}),c.String=c.RULE("String",function(){c.OR([{ALT:function(){return c.CONSUME(s.STRING_LITERAL_QUOTE)}},{ALT:function(){return c.CONSUME(s.STRING_LITERAL_SINGLE_QUOTE)}},{ALT:function(){return c.CONSUME(s.STRING_LITERAL_LONG_SINGLE_QUOTE)}},{ALT:function(){return c.CONSUME(s.STRING_LITERAL_LONG_QUOTE)}}])}),c.iri=c.RULE("iri",function(){c.OR([{ALT:function(){return c.CONSUME(s.IRIREF)}},{ALT:function(){return c.SUBRULE(c.PrefixedName)}}])}),c.PrefixedName=c.RULE("PrefixedName",function(){var e=c.OR([{ALT:function(){return c.CONSUME(s.PNAME_LN)}},{ALT:function(){return c.CONSUME(s.PNAME_NS)}}]);e.image.slice(0,e.image.indexOf(":"))in c.namespacesMap||c.semanticErrors.push({name:"NoNamespacePrefixError",message:"A prefix was used for which there was no namespace defined.",token:e,context:{ruleStack:c.getHumanReadableRuleStack(),ruleOccurrenceStack:c.RULE_OCCURRENCE_STACK.slice()},resyncedTokens:[]})}),c.BlankNode=c.RULE("BlankNode",function(){c.OR([{ALT:function(){return c.CONSUME(s.BLANK_NODE_LABEL)}},{ALT:function(){return c.CONSUME(s.ANON)}}])}),c.lexer=new o.Lexer(r),a&&o.Parser.performSelfAnalysis(c),c}return a(TurtleParser,e),TurtleParser}(o.Parser)},16:function(e,n,t){"use strict";t.r(n);var r,BaseSparqlParser=t(10),o=t(1),a=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),i=t(5).baseTokens,c=function(e){function W3SpecSparqlParser(n){var t=e.call(this,n,i)||this;return o.Parser.performSelfAnalysis(t),t}return a(W3SpecSparqlParser,e),W3SpecSparqlParser}(BaseSparqlParser.a),StardogSparqlParser=t(15);t.d(n,"sparqlTokens",function(){return u}),t.d(n,"keywords",function(){return s}),t.d(n,"terminals",function(){return l}),t.d(n,"BaseSparqlParser",function(){return BaseSparqlParser.a}),t.d(n,"W3SpecSparqlParser",function(){return c}),t.d(n,"StardogSparqlParser",function(){return StardogSparqlParser.a});var u=t(5),s=t(0).keywords,l=t(4).terminals},41:function(e,n,t){"use strict";t.r(n),t.d(n,"multiModeLexerDefinition",function(){return S}),t.d(n,"srsTokenMap",function(){return N}),t.d(n,"srsTokenTypes",function(){return O});var r,o,a=t(1),i=t(3),c=t(8),u=c.turtleTokenTypes,s=c.turtleTokenMap,l=t(5).sparqlTokenMap;!function(e){e.TURTLE="turtle",e.IFCLAUSE="ifclause",e.THENCLAUSE="thenclause"}(o||(o={}));var p=Object(a.createToken)({name:"Rule",pattern:/rule/i}),f=Object(a.createToken)({name:"If",pattern:/if/i,push_mode:o.IFCLAUSE}),E=Object(a.createToken)({name:"Then",pattern:/then/i,push_mode:o.THENCLAUSE}),L=Object(a.createToken)({name:"EndThen",pattern:"}",pop_mode:!0}),T=Object(a.createToken)({name:"GroupGraphPattern",pattern:function(e,n){if(void 0===n&&(n=0),"{"!==e[n])return null;var t,r=1;for(t=n+1;t<e.length&&r>0;t++)"{"===e[t]?r++:"}"===e[t]&&r--;return r>0?null:i.c.exec(e.slice(n,t))},line_breaks:!0,pop_mode:!0}),R=Object(a.createToken)({name:"TriplesBlock",pattern:/[^{}]+/,line_breaks:!0}),d=u.indexOf(s.IRIREF),S={modes:(r={},r[o.TURTLE]=u.slice(0,d+1).concat([p,f,E],u.slice(d+1)),r[o.IFCLAUSE]=[s.WhiteSpace,T],r[o.THENCLAUSE]=[s.WhiteSpace,l.LCurly,L,R],r),defaultMode:o.TURTLE},N={Rule:p,If:f,Then:E,EndThen:L,GroupGraphPattern:T,TriplesBlock:R},O=[p,f,E,L,l.LCurly].concat(u,[T,R])},65:function(e,n,t){"use strict";t.r(n);var r,o=t(1),TurtleParser=t(13),a=t(7),i=function(){return(i=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},c=Object.freeze(["","rdf","rdfs","xsd","owl","stardog"].reduce(function(e,n){var t;return i({},e,((t={})[n]=!0,t))},{})),u=t(16),s=(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),l=function(e){return new(function(e){function n(){var n=e.call(this)||this;return n.groupGraphPatterns=[],n.triplesBlocks=[],n.IfClause=function(e,t){var r=e.GroupGraphPattern;n.$storePlaceholderTokenReplacement({tokenStore:n.groupGraphPatterns,originalTokenContext:r,subParserRule:n.sparqlParser.parseGroupGraphPattern.bind(n.sparqlParser),cstInputTokens:t})},n.ThenClause=function(e,t){var r=e.TriplesBlock;n.$storePlaceholderTokenReplacement({tokenStore:n.triplesBlocks,originalTokenContext:r,subParserRule:n.sparqlParser.parseTriplesBlock.bind(n.sparqlParser),cstInputTokens:t})},n.$storePlaceholderTokenReplacement=function(e){var t=e.tokenStore,r=e.originalTokenContext,o=void 0===r?[]:r,a=e.subParserRule,i=e.cstInputTokens,c=e.stripWrappers,u=o[0];if(u&&"string"==typeof u.image){var s=n.$getPlaceholderTokenReplacement(u,a,i,c);t.push({parseResult:s,originalToken:u})}},n.$getPlaceholderTokenReplacement=function(e,n,t,r){void 0===r&&(r=!1);for(var o=e.image,a="",i=0,c=0,u=0;u<t.length;u++){var s=t[u];if(u>0){var l=s.startLine-c,p=s.startOffset-1-i-l;l>0?(a+="\n".repeat(l-1),a+=" ".repeat(Math.max(p,0))+"\n"):a+=" ".repeat(Math.max(p,0))}if(s===e)break;s.image.split("\n").forEach(function(e,n){n>0&&(a+="\n"),a+=" ".repeat(e.length)}),i=s.endOffset,c=s.endLine}var f=r?" "+o.slice(1,-1)+" ":o;return n(""+a+f)},n.$getGroupGraphPatterns=function(){return n.groupGraphPatterns},n.$getTriplesBlocks=function(){return n.triplesBlocks},n.$resetState=function(){n.groupGraphPatterns=[],n.triplesBlocks=[]},n.sparqlParser=new u.StardogSparqlParser,n.validateVisitor(),n}return s(n,e),n}(e))};function p(e,n){return e.concat(n.parseResult.errors)}function f(e,n,t,r){var o=t.find(function(n){return n.originalToken===e});return o&&(n.children[r]=[o.parseResult.cst]),o}var E,L=t(5),T=/(?:[A-Z]+Expression|ValueLogical)$/i,R=function(){return!1},d=((E={})[L.sparqlTokenMap.EXISTS.tokenName]="ExistsFunction",E[L.sparqlTokenMap.NOT_EXISTS.tokenName]="NotExistsFunction",E[L.sparqlTokenMap.NOW.tokenName]="BuiltInCall_NOW",E[L.sparqlTokenMap.LEmbed.tokenName]="LeftEmbed",E[L.sparqlTokenMap.REmbed.tokenName]="RightEmbed",E),S=Object.keys(d),N=[L.sparqlTokenMap.DOUBLE,L.sparqlTokenMap.DECIMAL,L.sparqlTokenMap.INTEGER,L.sparqlTokenMap.DOUBLE_POSITIVE,L.sparqlTokenMap.DECIMAL_POSITIVE,L.sparqlTokenMap.INTEGER_POSITIVE,L.sparqlTokenMap.DOUBLE_NEGATIVE,L.sparqlTokenMap.DECIMAL_NEGATIVE,L.sparqlTokenMap.INTEGER_NEGATIVE,L.sparqlTokenMap.STRING_LITERAL1,L.sparqlTokenMap.STRING_LITERAL2,L.sparqlTokenMap.STRING_LITERAL_LONG1,L.sparqlTokenMap.STRING_LITERAL_LONG2].map(function(e){return e.tokenName}),O=function(e){return Boolean(e&&e.node)};function U(e,n,t,r,o){if(void 0===o&&(o=R),!e)return[];for(var i=[],c=e;Object(a.b)(c.node)&&!t.includes(c.node.name);){if(o(c))return[];c=c.parentCtx}for(;Object(a.b)(c.node);){if(i.unshift(c.node.name),o(c))return[];c=c.parentCtx}for("string"==typeof r&&i.unshift(r),c=n;c;){if(Object(a.b)(c.node)&&(i.unshift(c.node.name),o(c)))return[];c=c.parentCtx}return["SrsDoc"].concat(i)}var m=function(e){return{name:e.name,message:e.message,token:e.node,context:{ruleStack:e.ruleStack,ruleOccurrenceStack:[]},resyncedTokens:[]}},A=function(e,n,t,r){return m({name:"NoNamespacePrefixError",message:'A prefix ("'+e.image+'") was used for which there was no namespace defined.',node:e,ruleStack:U(n,t,["PrefixedName"],r)})},k=function(e,n,t,r){return void 0===r&&(r="GroupGraphPattern"),m({name:"DisallowedTokenError",message:"Token "+e.tokenType.tokenName+" cannot be used in Stardog Rules.",node:e,ruleStack:U(n,t,[d[e.tokenType.tokenName]],r)})},b=function(e,n,t,r){var o=null,a=!1,i=null,c=U(n,t,["Expression","TriplesSameSubjectPath"],r,function(e){var n=e.node,t=e.parentCtx,r=n.name;if("PropertyListPathNotEmpty"===r)return o=e,!1;if(!a&&T.test(r))return a=t.node.children[r].length>1,!1;var c="Expression"===r,u="TriplesSameSubjectPath"===r;if(!c&&!u)return!1;var s=c&&!a&&function(e){if(!O(e))return!1;var n=e.node.name;return"Bind"===n||"ExpressionOrEmbeddedTriplePattern"===n&&O(e.parentCtx)&&"Bind"===e.parentCtx.node.name}(t),l=u&&(!o||"TriplesSameSubjectPath"!==o.parentCtx.node.name);return!s&&!l||(i=s?"Bind":"TriplesBlock",!1)});if(0!==c.length)return m({name:"DisallowedLiteralError",message:"Token "+e.tokenType.tokenName+" ("+e.image+") cannot be used as a subject inside of a "+i+" in Stardog Rules Syntax.",node:e,ruleStack:c})};var _=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(n,t)};return function(n,t){function r(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),C=function(){return(C=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},P=t(5).sparqlTokenMap,h=t(41),M=h.srsTokenMap,v=h.srsTokenTypes,B=h.multiModeLexerDefinition,I=function(e){function SrsParser(n){var t=e.call(this,C({outputCst:!0,recoveryEnabled:!0},n),v,B,!1)||this;return t.baseNamespacesMap=Object.freeze(C({},c)),t.namespacesMap={},t.visitCst=function(e){if(t.sparqlSrsVisitor)t.sparqlSrsVisitor.$resetState();else{var n=t.getBaseCstVisitorConstructorWithDefaults();t.sparqlSrsVisitor=l(n)}t.sparqlSrsVisitor.visit(e,t.input)},t.getSparqlRulesFromVisitor=function(e){return t.visitCst(e),{groupGraphPatterns:t.sparqlSrsVisitor.$getGroupGraphPatterns(),triplesBlocks:t.sparqlSrsVisitor.$getTriplesBlocks()}},t.resetManagedState=function(){t.namespacesMap=C({},c),t.semanticErrors=[]},t.setBaseNamespaces=function(e){t.baseNamespacesMap=C({},e)},t.tokenize=function(e){return t.lexer.tokenize(e).tokens},t.parse=function(e,n){void 0===n&&(n="standard"),t.resetManagedState(),t.input=t.lexer.tokenize(e).tokens;var r=t.SrsDoc(0,[n]),o=t.getSparqlRulesFromVisitor(r),i=o.groupGraphPatterns,c=o.triplesBlocks,u=t.errors.concat(i.reduce(p,[]),c.reduce(p,[])),s=t.semanticErrors.slice();return Object(a.e)(r,function(e,n){var r=e.node,o=e.parentCtx;if(Object(a.b)(r))return n();var l=r.tokenType.tokenName;if("GroupGraphPattern"===l||"TriplesBlock"===l){var p=o.node;if("IfClause"===p.name)(E=f(r,p,i,"GroupGraphPattern"))&&function(e){var n=e.cst,t=e.namespacesMap,r=e.fullCtx,o=e.errors,i=e.semanticErrors;Object(a.d)(n,function(e,n){var c=e.node,u=e.parentCtx;if(Object(a.b)(c))return n();var s=c.tokenType.tokenName;if(S.some(function(e){return e===s})&&o.push(k(c,u,r)),N.some(function(e){return e===c.tokenType.tokenName})){var l=b(c,u,r,"GroupGraphPattern");l&&o.push(l)}if("PNAME_NS"===s||"PNAME_LN"===s){var p=c.image.split(":").shift();t[p]||i.push(A(c,u,r,"GroupGraphPattern"))}})}({fullCtx:e,namespacesMap:C({},t.baseNamespacesMap,t.namespacesMap),cst:E.parseResult.cst,errors:u,semanticErrors:s});else if("ThenClause"===p.name){var E;(E=f(r,p,c,"TriplesBlock"))&&function(e){var n=e.cst,t=e.namespacesMap,r=e.errors,o=e.semanticErrors,i=e.fullCtx;Object(a.d)(n,function(e,n){var c=e.node,u=e.parentCtx;if(Object(a.b)(c))return n();var s=c.tokenType.tokenName;if(N.some(function(e){return e===c.tokenType.tokenName})){var l=b(c,u,i,"GroupGraphPattern");l&&r.push(l)}if(s!==L.sparqlTokenMap.LEmbed.name&&s!==L.sparqlTokenMap.REmbed.name||r.push(k(c,u,i,"TriplesBlock")),"PNAME_NS"===s||"PNAME_LN"===s){var p=c.image.split(":").shift();t[p]||o.push(A(c,u,i,"TriplesBlock"))}})}({fullCtx:e,namespacesMap:C({},t.baseNamespacesMap,t.namespacesMap),cst:E.parseResult.cst,errors:u,semanticErrors:s})}}}),{semanticErrors:s,errors:u,cst:r}},t.SrsDoc=t.RULE("SrsDoc",function(e){var n="stardog"===e;t.SUBRULE(t.turtleDoc,{ARGS:[e]}),t.MANY(function(){t.SUBRULE(t.RuleDoc),t.MANY1(function(){t.SUBRULE(t.triples,{ARGS:[n]}),t.CONSUME(P.Period)})})}),t.RuleDoc=t.RULE("RuleDoc",function(){t.OPTION(function(){return t.SUBRULE(t.RuleClause)}),t.SUBRULE(t.IfClause),t.SUBRULE(t.ThenClause)}),t.RuleClause=t.RULE("RuleClause",function(){t.CONSUME(M.Rule),t.SUBRULE(t.iri)}),t.IfClause=t.RULE("IfClause",function(){t.CONSUME(M.If),t.CONSUME(M.GroupGraphPattern)}),t.ThenClause=t.RULE("ThenClause",function(){t.CONSUME(M.Then),t.CONSUME(P.LCurly),t.CONSUME(M.TriplesBlock),t.CONSUME(M.EndThen)}),t.lexer=new o.Lexer(B),o.Parser.performSelfAnalysis(t),t}return _(SrsParser,e),SrsParser}(TurtleParser.a);t.d(n,"srsTokens",function(){return G}),t.d(n,"SrsParser",function(){return I});var G=t(41)},7:function(e,n,t){"use strict";t.d(n,"d",function(){return o}),t.d(n,"e",function(){return a}),t.d(n,"b",function(){return i}),t.d(n,"c",function(){return c}),t.d(n,"a",function(){return u});var r=function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},o=function(e,n){l(e,null,n)},a=function(e,n){l(e,null,n,!1)};function i(e){return Boolean(e&&"name"in e)}function c(e){return Boolean(e&&"tokenType"in e)}function u(e,n){if(!e||!e.length)return n;for(var t=n,r=0,o=e;r<o.length;r++){var a=o[r];if(!i(t)||!t.children[a])return;t=t.children[a][0]}return t}var s=function(){return function(e){var n=e.node,t=e.parentCtx;this.node=r({},n),this.parentCtx=r({},t)}}(),l=function(e,n,t,o){if(void 0===n&&(n=new s({node:e})),void 0===o&&(o=!0),!i(e))return t(o?r({},n):n);var a=e.children;Object.keys(a).forEach(function(e){var r=a[e];r.length&&r.forEach(function(e){var r=o?new s({node:e,parentCtx:n}):{node:e,parentCtx:n};t(r,function(n){var a=r;n&&(a=o?new s({node:n.node,parentCtx:n.parentCtx}):{node:n.node,parentCtx:n.parentCtx}),l(e,a,t,o)})})})}},8:function(e,n,t){"use strict";t.r(n);var r=t(1),o=t(2),a=t(3),i=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,c={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},u=/^"([^"\\\r\n]+)"/,s=/^'([^'\\\r\n]+)'/,l=/^"((?:[^"\\\r\n]|\\.)*)"(?=[^"])/,p=/^'((?:[^'\\\r\n]|\\.)*)'(?=[^'])/,f=/^"""([^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*)"""/,E=/^'''([^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*)'''/,L=/[\x00-\x20<>\\"\{\}\|\^\`]/,T=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,R=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,d=function(e){try{return e.replace(i,function(e,n,t,r){if(n)return String.fromCharCode(parseInt(n,16));if(t){var o=parseInt(t,16);return o<=65535?String.fromCharCode(o):String.fromCharCode(55296+(o-=65536)/1024,56320+(1023&o))}var a=c[r];if(!a)throw new Error;return a})}catch(e){return null}};t.d(n,"turtleTokenMap",function(){return O}),t.d(n,"turtleTokenTypes",function(){return U});var S=t(5).sparqlTokenMap,N=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,O={Comment:Object(r.createToken)({name:"Comment",pattern:/#[^\n]*/,group:"comments"}),LBracket:S.LBracket,RBracket:S.RBracket,LCurly:S.LCurly,RCurly:S.RCurly,LParen:S.LParen,RParen:S.RParen,Period:S.Period,WhiteSpace:S.WhiteSpace,TRUE:Object(r.createToken)({name:"TRUE",pattern:/true/}),FALSE:Object(r.createToken)({name:"FALSE",pattern:/false/}),DoubleCaret:S.DoubleCaret,LEmbed:S.LEmbed,REmbed:S.REmbed,Comma:S.Comma,Semicolon:S.Semicolon,A:S.A,PREFIX:S.PREFIX,BASE:S.BASE,PNAME_NS:S.PNAME_NS,PNAME_LN:S.PNAME_LN,BLANK_NODE_LABEL:S.BLANK_NODE_LABEL,TTL_BASE:Object(r.createToken)({name:"TTL_BASE",pattern:/@base/}),TTL_PREFIX:Object(r.createToken)({name:"TTL_PREFIX",pattern:/@prefix/}),LANGTAG:S.LANGTAG,INTEGER:Object(r.createToken)({name:"INTEGER",pattern:o.a.and(o.a.option(/[+-]/),/\d+/)}),DECIMAL:Object(r.createToken)({name:"DECIMAL",pattern:o.a.and(o.a.option(/[+-]/),/(\d*\.\d+)/)}),DOUBLE:Object(r.createToken)({name:"DOUBLE",pattern:o.a.and(o.a.option(/[+-]/),o.a.or(o.a.and(/\d+\.\d*/,a.k),o.a.and(/\.\d+/,a.k),o.a.and(/\d+/,a.k)))}),EXPONENT:Object(r.createToken)({name:"EXPONENT",pattern:a.k}),ECHAR:Object(r.createToken)({name:"ECHAR",pattern:a.j}),ANON:S.ANON,PLX:Object(r.createToken)({name:"PLX",pattern:a.t}),PERCENT:S.PERCENT,HEX:Object(r.createToken)({name:"HEX",pattern:a.l}),STRING_LITERAL_LONG_SINGLE_QUOTE:Object(r.createToken)({name:"STRING_LITERAL_LONG_SINGLE_QUOTE",pattern:function(e,n){void 0===n&&(n=0);var t=E.exec(e.slice(n));return t&&null!==d(t[1])?t:null},line_breaks:!0}),STRING_LITERAL_LONG_QUOTE:Object(r.createToken)({name:"STRING_LITERAL_LONG_QUOTE",pattern:function(e,n){void 0===n&&(n=0);var t=f.exec(e.slice(n));return t&&null!==d(t[1])?t:null},line_breaks:!0}),STRING_LITERAL_QUOTE:Object(r.createToken)({name:"STRING_LITERAL_QUOTE",pattern:function(e,n){void 0===n&&(n=0);var t=e.slice(n),r=u.exec(t);return r||((r=l.exec(t))?null===d(r[1])?null:r:null)},line_breaks:!1}),STRING_LITERAL_SINGLE_QUOTE:Object(r.createToken)({name:"STRING_LITERAL_SINGLE_QUOTE",pattern:function(e,n){void 0===n&&(n=0);var t=e.slice(n),r=s.exec(t);return r||((r=p.exec(t))?null===d(r[1])?null:r:null)},line_breaks:!1}),UCHAR:Object(r.createToken)({name:"UCHAR",pattern:function(e,n){return void 0===n&&(n=0),N.exec(e.slice(n))},line_breaks:!1}),IRIREF:Object(r.createToken)({name:"IRIREF",pattern:function(e,n){void 0===n&&(n=0);var t=e.slice(n),r=R.exec(t);if(r)return r;if(!(r=T.exec(t)))return null;var o=d(r[1]);return null===o||L.test(o)?null:r},line_breaks:!1}),PN_CHARS_BASE:Object(r.createToken)({name:"PN_CHARS_BASE",pattern:a.x}),PN_CHARS_U:Object(r.createToken)({name:"PN_CHARS_U",pattern:a.y}),PN_CHARS:Object(r.createToken)({name:"PN_CHARS",pattern:a.w}),PN_PREFIX:Object(r.createToken)({name:"PN_PREFIX",pattern:a.B}),PN_LOCAL:Object(r.createToken)({name:"PN_LOCAL",pattern:a.z}),PN_LOCAL_ESC:Object(r.createToken)({name:"PN_LOCAL_ESC",pattern:a.A}),UNKNOWN:S.UNKNOWN},U=[O.Comment,S.ANON,S.LBracket,S.RBracket,S.LCurly,S.RCurly,S.LParen,S.RParen,S.WhiteSpace,O.TRUE,O.FALSE,S.Comma,S.Semicolon,S.PNAME_NS,S.A,S.PREFIX,S.BASE,S.PNAME_LN,S.BLANK_NODE_LABEL,O.TTL_BASE,O.TTL_PREFIX,S.LANGTAG,O.DOUBLE,O.DECIMAL,S.Period,S.DoubleCaret,O.LEmbed,O.REmbed,O.IRIREF,O.STRING_LITERAL_LONG_SINGLE_QUOTE,O.STRING_LITERAL_LONG_QUOTE,O.STRING_LITERAL_QUOTE,O.STRING_LITERAL_SINGLE_QUOTE,O.INTEGER,O.EXPONENT,O.PLX,S.PERCENT,O.HEX,O.PN_CHARS_BASE,O.PN_CHARS_U,O.PN_CHARS,O.PN_PREFIX,O.PN_LOCAL,O.PN_LOCAL_ESC,O.ECHAR,O.UCHAR,O.UNKNOWN]}})});
//# sourceMappingURL=millan.srs.js.map